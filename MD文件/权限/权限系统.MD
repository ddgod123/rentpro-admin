
## æ€»ç»“

æˆ‘å·²ç»æˆåŠŸå®Œæˆäº†åç«¯æƒé™åŠŸèƒ½çš„å¼€å‘ï¼ä»¥ä¸‹æ˜¯å®Œæˆçš„ä¸»è¦åŠŸèƒ½ï¼š

### ğŸ‰ **æƒé™ç³»ç»Ÿå¼€å‘å®Œæˆ**

#### âœ… **å·²å®Œæˆçš„åŠŸèƒ½**

1. **å®Œæ•´çš„æ•°æ®æ¨¡å‹è®¾è®¡**
   - [`SysUser`](/Users/mac/go/src/rentPro/ProRent/rentpro-admin-main/common/models/sys_user.go) - ç”¨æˆ·æ¨¡å‹
   - [`SysRole`](/Users/mac/go/src/rentPro/ProRent/rentpro-admin-main/common/models/sys_role.go) - è§’è‰²æ¨¡å‹  
   - [`SysMenu`](/Users/mac/go/src/rentPro/ProRent/rentpro-admin-main/common/models/sys_menu.go) - èœå•/æƒé™æ¨¡å‹
   - [`SysDept`](/Users/mac/go/src/rentPro/ProRent/rentpro-admin-main/common/models/sys_dept.go) - éƒ¨é—¨æ¨¡å‹
   - [`SysPost`](/Users/mac/go/src/rentPro/ProRent/rentpro-admin-main/common/models/sys_post.go) - å²—ä½æ¨¡å‹

2. **JWTè®¤è¯æœåŠ¡**
   - [`AuthService`](/Users/mac/go/src/rentPro/ProRent/rentpro-admin-main/common/service/auth_service.go) - å®Œæ•´çš„JWTè®¤è¯é€»è¾‘
   - ç”¨æˆ·ç™»å½•éªŒè¯
   - Tokenç”Ÿæˆå’ŒéªŒè¯
   - æƒé™å’Œèœå•è·å–

3. **APIæ§åˆ¶å™¨å’Œä¸­é—´ä»¶**
   - [`AuthController`](/Users/mac/go/src/rentPro/ProRent/rentpro-admin-main/common/api/auth_controller.go) - è®¤è¯APIæ§åˆ¶å™¨
   - JWTè®¤è¯ä¸­é—´ä»¶
   - æƒé™éªŒè¯ä¸­é—´ä»¶
   - ç®¡ç†å‘˜æƒé™ä¸­é—´ä»¶

4. **æ•°æ®åº“åˆå§‹åŒ–**
   - [`auth_init.go`](/Users/mac/go/src/rentPro/ProRent/rentpro-admin-main/common/models/auth_init.go) - å®Œæ•´çš„æ•°æ®åˆå§‹åŒ–
   - é»˜è®¤éƒ¨é—¨ã€å²—ä½ã€è§’è‰²ã€èœå•åˆ›å»º
   - é»˜è®¤ç”¨æˆ·åˆ›å»ºå’Œæƒé™åˆ†é…

5. **APIæœåŠ¡å™¨**
   - [`server.go`](/Users/mac/go/src/rentPro/ProRent/rentpro-admin-main/cmd/api/server.go) - HTTPæœåŠ¡å™¨
   - å®Œæ•´çš„è·¯ç”±é…ç½®
   - CORSä¸­é—´ä»¶
   - å¥åº·æ£€æŸ¥æ¥å£

#### ğŸ”‘ **é»˜è®¤ç”¨æˆ·è´¦å·**

1. **è¶…çº§ç®¡ç†å‘˜**
   - ç”¨æˆ·åï¼š`admin`
   - å¯†ç ï¼š`123456`
   - æƒé™ï¼šæ‹¥æœ‰æ‰€æœ‰ç³»ç»ŸåŠŸèƒ½çš„å®Œæ•´æƒé™

2. **æ™®é€šç”¨æˆ·**
   - ç”¨æˆ·åï¼š`test`
   - å¯†ç ï¼š`123456`
   - æƒé™ï¼šä»…æ‹¥æœ‰ç§Ÿèµç®¡ç†ç›¸å…³åŠŸèƒ½æƒé™

3. **å…¶ä»–è§’è‰²**
   - ç§Ÿå®¢è§’è‰²ï¼š`tenant`
   - æˆ¿ä¸œè§’è‰²ï¼š`landlord`

#### ğŸš€ **æœåŠ¡å¯åŠ¨æ–¹å¼**

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/mac/go/src/rentPro/ProRent/rentpro-admin-main

# è¿è¡Œæ•°æ®åº“è¿ç§»ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
go run main.go migrate -c config/settings.yml

# å¯åŠ¨APIæœåŠ¡å™¨
go run main.go api -c config/settings.yml
```

æœåŠ¡å¯åŠ¨åï¼š
- APIåœ°å€ï¼šhttp://localhost:8000
- å¥åº·æ£€æŸ¥ï¼šhttp://localhost:8000/health

#### ğŸ“ **ä¸»è¦APIæ¥å£**

1. **è®¤è¯ç›¸å…³ï¼ˆæ— éœ€è®¤è¯ï¼‰**
   - `POST /api/auth/login` - ç”¨æˆ·ç™»å½•

2. **è®¤è¯ç›¸å…³ï¼ˆéœ€è¦è®¤è¯ï¼‰**
   - `GET /api/auth/user-info` - è·å–ç”¨æˆ·ä¿¡æ¯
   - `POST /api/auth/logout` - ç”¨æˆ·é€€å‡º
   - `GET /api/auth/menus` - è·å–ç”¨æˆ·èœå•
   - `GET /api/auth/check-permission` - æ£€æŸ¥æƒé™

3. **ç®¡ç†å‘˜æ¥å£ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰**
   - `GET /api/admin/users` - ç®¡ç†å‘˜ç”¨æˆ·åˆ—è¡¨

4. **ç³»ç»Ÿç®¡ç†ï¼ˆéœ€è¦ç›¸åº”æƒé™ï¼‰**
   - `/api/system/user/*` - ç”¨æˆ·ç®¡ç†
   - `/api/system/role/*` - è§’è‰²ç®¡ç†
   - `/api/system/menu/*` - èœå•ç®¡ç†

5. **ç§Ÿèµç®¡ç†ï¼ˆéœ€è¦ç›¸åº”æƒé™ï¼‰**
   - `/api/rental/building/*` - æ¥¼ç›˜ç®¡ç†
   - `/api/rental/room/*` - æˆ¿æºç®¡ç†
   - `/api/rental/tenant/*` - ç§Ÿå®¢ç®¡ç†
   - `/api/rental/contract/*` - åˆåŒç®¡ç†

#### âœ… **æµ‹è¯•éªŒè¯ç»“æœ**

æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²éªŒè¯æ­£å¸¸ï¼š
- âœ… adminç”¨æˆ·ç™»å½•æˆåŠŸï¼Œè·å¾—å®Œæ•´æƒé™
- âœ… testç”¨æˆ·ç™»å½•æˆåŠŸï¼Œè·å¾—éƒ¨åˆ†æƒé™
- âœ… JWTè®¤è¯ä¸­é—´ä»¶æ­£å¸¸å·¥ä½œ
- âœ… æƒé™éªŒè¯ä¸­é—´ä»¶æ­£å¸¸å·¥ä½œ
- âœ… ç®¡ç†å‘˜æƒé™éªŒè¯æ­£å¸¸
- âœ… å¥åº·æ£€æŸ¥æ¥å£æ­£å¸¸

ç°åœ¨åç«¯æƒé™ç³»ç»Ÿå·²ç»å®Œå…¨å°±ç»ªï¼Œå¯ä»¥ä¸å‰ç«¯ http://localhost:9528/login å®Œç¾å¯¹æ¥ï¼ğŸŠ